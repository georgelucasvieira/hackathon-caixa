CREATE TABLE IF NOT EXISTS SOLICITACAO_SIMULACAO (
    ID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    DATA_CRIACAO TIMESTAMP NOT NULL DEFAULT NOW(),
    VALOR_DESEJADO NUMERIC(18,2),
    PRAZO INT NOT NULL
);

CREATE TABLE IF NOT EXISTS SIMULACAO (
    ID   INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    TIPO VARCHAR(5) NOT NULL,
    DATA_CRIACAO TIMESTAMP NOT NULL DEFAULT NOW(),
    SOLICITACAO_ID INT REFERENCES SOLICITACAO_SIMULACAO(id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS PARCELAS (
    ID                INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    SIMULACAO_ID      INT REFERENCES SIMULACAO(id) ON DELETE CASCADE,
    NUMERO            INT,
    VALOR_AMORTIZACAO NUMERIC(18,2),
    VALOR_JUROS       NUMERIC(18,2),
    VALOR_PRESTACAO   NUMERIC(18,2)
);